# ๐ ุชูุฑูุฑ ุญุงูุฉ ูุดุฑูุน HS.AF - ูุธุงู ูุญุต ุงููุฑูุจุงุช

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ:** 3 ููุงูุฑ 2026  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ููุชุดุบูู**

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู HS.AF ูู ุชุทุจูู ููุจ ูุชูุงูู ููุญุต ุญุงูุฉ ุงููุฑูุจุงุช ูุชูุซูู ุงูุฃุนุทุงู ูุงูุนููุจ ุจุงุณุชุฎุฏุงู ุฎุฑูุทุฉ ุชูุงุนููุฉ ููุณูุงุฑุฉ.

### ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ:
- **Frontend:** React 18 + TypeScript + Vite
- **Backend:** Express.js + Node.js
- **Database:** SQLite + Drizzle ORM
- **UI Components:** Radix UI + Tailwind CSS
- **State Management:** TanStack Query (React Query)
- **Routing:** Wouter
- **PDF Export:** jsPDF + html2canvas

---

## โ ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### 1๏ธโฃ **ุฅุตูุงุญ ูุณุงุฑุงุช API (Critical Fix)**

**ุงููุดููุฉ:**
- ูุงูุช ุงูุตูุญุฉ ุชุณุชุฎุฏู endpoints ุฎุงุทุฆุฉ ุบูุฑ ููุฌูุฏุฉ ูู ุงูุณูุฑูุฑ
- `/api/inspection-items` โ (ุบูุฑ ููุฌูุฏ)
- `/api/inspection-photos` โ (ุบูุฑ ููุฌูุฏ)

**ุงูุญู:**
```typescript
// ูุจู ุงูุฅุตูุงุญ โ
fetch('/api/inspection-items', {...})
fetch('/api/inspection-photos', {...})

// ุจุนุฏ ุงูุฅุตูุงุญ โ
fetch(`/api/inspections/${inspectionId}/items`, {...})
fetch(`/api/items/${itemId}/photos`, {...})
```

**ุงููููุงุช ุงููุนุฏูุฉ:**
- [client/src/pages/InspectionPage.tsx](client/src/pages/InspectionPage.tsx)

---

### 2๏ธโฃ **ุฅุตูุงุญ ุฑูุน ุงูุตูุฑ**

**ุงููุดููุฉ:**
- ูุงู ูุฑูุน ุฌููุน ุงูุตูุฑ ูู ุทูุจ ูุงุญุฏ ูุน ุญูู ุฎุงุทุฆ
- ุงูุณูุฑูุฑ ูุชููุน ุตูุฑุฉ ูุงุญุฏุฉ ููุท ูู ูู ุทูุจ ุจุญูู ุงุณูู `photo`

**ุงูุญู:**
```typescript
// ุจุนุฏ ุงูุฅุตูุงุญ โ
for (const photo of data.photos) {
  const formData = new FormData();
  formData.append('photo', photo); // โ ุงุณู ุงูุญูู ุงูุตุญูุญ
  await fetch(`/api/items/${item.id}/photos`, {...});
}
```

---

### 3๏ธโฃ **ุฅุตูุงุญ ูุณุงุฑ ุงูุชูุฑูุฑ**

**ุงููุดููุฉ:**
```typescript
// ูุจู โ
setLocation(`/report/${inspectionId}`);
```

**ุงูุญู:**
```typescript
// ุจุนุฏ โ
setLocation(`/inspections/${inspectionId}/report`);
```

---

## ๐ ูููู ุงููุดุฑูุน

```
HS.AF/
โโโ client/                      # ุชุทุจูู React
โ   โโโ src/
โ   โ   โโโ components/          # ุงูููููุงุช
โ   โ   โ   โโโ VehicleMap.tsx   # โ ุฎุฑูุทุฉ ุงูุณูุงุฑุฉ ุงูุชูุงุนููุฉ
โ   โ   โ   โโโ DamageEntryDialog.tsx  # โ ูุงูุฐุฉ ุฅุฏุฎุงู ุงูุฃุนุทุงู
โ   โ   โ   โโโ AddDefectDialog.tsx    # โ๏ธ ุบูุฑ ูุณุชุฎุฏู ุญุงููุงู
โ   โ   โ   โโโ ui/              # Radix UI components
โ   โ   โโโ pages/
โ   โ   โ   โโโ Dashboard.tsx         # โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โ   โ   โ   โโโ CreateInspection.tsx  # โ ุฅูุดุงุก ูุญุต ุฌุฏูุฏ
โ   โ   โ   โโโ InspectionPage.tsx    # โ ุตูุญุฉ ุงููุญุต ุงูุชูุงุนููุฉ (ุชู ุฅุตูุงุญูุง)
โ   โ   โ   โโโ InspectionDetail.tsx  # โ ุชูุงุตูู ุงููุญุต
โ   โ   โ   โโโ Report.tsx            # โ ุงูุชูุฑูุฑ ุงูููุงุฆู + PDF
โ   โ   โโโ hooks/
โ   โ   โ   โโโ use-inspections.ts    # React Query hooks
โ   โ   โโโ App.tsx
โ   โโโ public/
โ       โโโ assets/
โ           โโโ logo.png              # โ ููุฌูุฏ
โโโ server/                      # Express Server
โ   โโโ index.ts                 # โ Server entry point
โ   โโโ routes.ts                # โ API routes (ุตุญูุญุฉ)
โ   โโโ storage.ts               # โ Database operations
โ   โโโ db.ts                    # โ Drizzle config
โ   โโโ static.ts                # Static file serving
โโโ shared/                      # Shared types
โ   โโโ schema.ts                # โ Database schema + types
โ   โโโ constants.ts             # โ ุฃุฌุฒุงุก ุงูุณูุงุฑุฉ + ุฃููุงุน ุงูุฃุนุทุงู
โ   โโโ routes.ts                # โ API route definitions
โโโ migrations/                  # Database migrations
โโโ uploads/                     # ุฑูุน ุงูุตูุฑ
โโโ data/                        # SQLite database
```

---

## ๐ ุงูููุฒุงุช ุงูููุฌูุฏุฉ

### โ **ุฎุฑูุทุฉ ุงูุณูุงุฑุฉ ุงูุชูุงุนููุฉ (VehicleMap)**
- 5 ุฒูุงูุง ูุฎุชููุฉ: ุฃูุงูุ ุฎููุ ููููุ ูุณุงุฑุ ุณูู
- ูู ุฌุฒุก ูุงุจู ููุถุบุท ูุฅุถุงูุฉ ุนุทู
- ุนุฑุถ ุฃููููุงุช ุงูุฃุนุทุงู ุนูู ุงูุฎุฑูุทุฉ
- ุฃููุงู ูููุฒุฉ ุญุณุจ ููุน ุงูุนุทู

### โ **ูุธุงู ุฅุฏุฎุงู ุงูุฃุนุทุงู (DamageEntryDialog)**
- ุงุฎุชูุงุฑ ุงูุฌุฒุก ูู ูุงุฆูุฉ ุดุงููุฉ (23 ุฌุฒุก)
- ุงุฎุชูุงุฑ ุฃููุงุน ุฃุนุทุงู ูุชุนุฏุฏุฉ (11 ููุน)
- ุชุญุฏูุฏ ุฏุฑุฌุฉ ุงูุฎุทูุฑุฉ (ุฎูููุ ูุชูุณุทุ ุดุฏูุฏ)
- ุฑูุน ุตูุฑ ูุชุนุฏุฏุฉ
- ูุนุงููุฉ ุงูุตูุฑ ูุจู ุงูุญูุธ
- ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ

### โ **ุฃุฌุฒุงุก ุงูุณูุงุฑุฉ (23 ุฌุฒุก)**
```javascript
ุจุงุจ ุฃูุงูู ูููู/ูุณุงุฑุ ุจุงุจ ุฎููู ูููู/ูุณุงุฑุ ุฑูุฑู ูููู/ูุณุงุฑุ
ุตุฏุงู ุฃูุงูู/ุฎูููุ ุดูุทุฉุ ูุจูุชุ ุณููุ ูุงุฆู A/B/C ูููู/ูุณุงุฑุ
ูุฑุขุฉ ูููู/ูุณุงุฑุ ุฒุฌุงุฌ ุฃูุงูู/ุฎููู/ุฌุงูุจู
```

### โ **ุฃููุงุน ุงูุฃุนุทุงู (11 ููุน)**
```javascript
ุฎุฏุด ุณุทุญูุ ุฎุฏุด ุนูููุ ุทุนุฌุฉ ุฎูููุฉุ ุทุนุฌุฉ ุดุฏูุฏุฉุ ูุณุฑุ ุดูุ
ุตุจุบ ุบูุฑ ุฃุตููุ ูุฑู ูููุ ุตุฏุฃุ ุนุฏู ุงุชุฒุงูุ ุฃุถุฑุงุฑ ูุชุนุฏุฏุฉ
```

### โ **ุฏุฑุฌุงุช ุงูุฎุทูุฑุฉ (3 ูุณุชููุงุช)**
- ุฎููู (ุฃุฎุถุฑ)
- ูุชูุณุท (ุจุฑุชูุงูู)
- ุดุฏูุฏ (ุฃุญูุฑ)

### โ **ุตูุญุฉ ุงูุชูุฑูุฑ (Report)**
- ุชุตููู ุงุญุชุฑุงูู ููุทุจุงุนุฉ
- ูุนูููุงุช ุงูุนููู ูุงููุฑูุจุฉ
- ุฌุฏูู ุดุงูู ุจุฌููุน ุงูุฃุนุทุงู
- ุตูุฑ ุงูุฃุนุทุงู
- ุชุตุฏูุฑ PDF
- ูุดุงุฑูุฉ ุงูุฑุงุจุท

### โ **Dashboard**
- ุนุฑุถ ุฌููุน ุงููุญูุตุงุช
- ุฅุญุตุงุฆูุงุช (ููุฏ ุงููุญุตุ ููุชููุฉุ ุงููุฌููุน)
- ุจุญุซ ูููุชุฑุฉ
- ุญุงูุฉ ูู ูุญุต

### โ **API Routes**
```
GET    /api/inspections              - ูุงุฆูุฉ ุงููุญูุตุงุช
GET    /api/inspections/:id          - ูุญุต ูุญุฏุฏ
POST   /api/inspections              - ุฅูุดุงุก ูุญุต ุฌุฏูุฏ
PATCH  /api/inspections/:id          - ุชุญุฏูุซ ุญุงูุฉ ุงููุญุต
POST   /api/inspections/:id/items    - ุฅุถุงูุฉ ุนุทู
DELETE /api/items/:id                - ุญุฐู ุนุทู
POST   /api/items/:itemId/photos     - ุฑูุน ุตูุฑุฉ
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Tables:
1. **inspections** - ุจูุงูุงุช ุงููุญูุตุงุช ุงูุฃุณุงุณูุฉ
2. **inspection_items** - ุงูุฃุนุทุงู ุงููุณุฌูุฉ
3. **inspection_photos** - ุตูุฑ ุงูุฃุนุทุงู

### Relations:
- Inspection โ Items (One-to-Many)
- Item โ Photos (One-to-Many)

---

## ๐ฆ Dependencies ุงูุฑุฆูุณูุฉ

### Frontend:
```json
{
  "@tanstack/react-query": "^5.60.5",
  "@radix-ui/*": "ููุชุจุงุช UI",
  "react": "^18.x",
  "typescript": "^5.x",
  "vite": "^5.x",
  "tailwindcss": "^3.x",
  "wouter": "routing",
  "jspdf": "PDF export",
  "html2canvas": "screenshots",
  "date-fns": "dates"
}
```

### Backend:
```json
{
  "express": "^4.x",
  "drizzle-orm": "^0.x",
  "better-sqlite3": "^12.x",
  "multer": "file upload",
  "zod": "validation"
}
```

---

## ๐จ ุงูุชุตููู

- **ุงููุบุฉ:** ุนุฑุจู (RTL)
- **ุงูุฃููุงู:** 
  - Primary: Blue (#3B82F6)
  - Success: Green (#10B981)
  - Warning: Orange (#F59E0B)
  - Danger: Red (#EF4444)
- **ุงูุฎุทูุท:** System fonts + Arabic support
- **ุงูุฃููููุงุช:** Lucide React + Emoji

---

## ๐ง ููููุฉ ุงูุชุดุบูู

### 1. ุชุซุจูุช ุงูููุชุจุงุช:
```bash
cd c:\Users\Dell\Videos\HS.AF
npm install
```

### 2. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
npm run db:push
```

### 3. ุชุดุบูู ุงููุดุฑูุน:
```bash
# Development
npm run dev

# Production
npm run build
npm start
```

### 4. ูุชุญ ุงููุชุตูุญ:
```
http://localhost:3000
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. Database Location
- ุงูููู: `data/database.db`
- ูุชู ุฅูุดุงุคู ุชููุงุฆูุงู ุนูุฏ ุฃูู ุชุดุบูู

### 2. Uploads Folder
- ุงููุณุงุฑ: `uploads/`
- ูุญุชูู ุนูู ุฌููุน ุงูุตูุฑ ุงููุฑููุนุฉ
- ูุฌุจ ุนุฏู ุญุฐูู

### 3. Seed Data
- ูุชู ุฅูุดุงุก ูุญุต ุชุฌุฑูุจู ุชููุงุฆูุงู ุนูุฏ ุฃูู ุชุดุบูู
- ูููู ุญุฐูู ูู Dashboard

### 4. Port Configuration
- Default: `3000`
- ูููู ุงูุชุบููุฑ ูู `server/index.ts`

---

## ๐ Known Issues (Minor)

1. **InspectionDetail.tsx** - ูุณุชุฎุฏู ูุงุฌูุฉ ูุฏููุฉ ูุฎุชููุฉ ุนู InspectionPage
   - ุงูุญู: ุงุณุชุฎุฏุงู `/inspection/:id` ุจุฏูุงู ูู `/inspections/:id`

2. **AddDefectDialog.tsx** - ูููู ุบูุฑ ูุณุชุฎุฏู
   - ุงูุญู: ูููู ุญุฐูู ุฃู ุฏูุฌู ูุน DamageEntryDialog

3. **Logo ูู Report** - ูุณุงุฑ ูุณุจู
   - ุงูุญู: ุงูุตูุฑุฉ ููุฌูุฏุฉ ูู `/assets/logo.png`

---

## ๐ฏ ุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ (ูุณุชูุจููุฉ)

### 1. Authentication
- ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏููู
- ุตูุงุญูุงุช ูุฎุชููุฉ

### 2. Advanced Search
- ููุชุฑุฉ ูุชูุฏูุฉ
- ุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎ/ุงูุญุงูุฉ

### 3. Statistics Dashboard
- ุฑุณูู ุจูุงููุฉ
- ุชูุงุฑูุฑ ุดูุฑูุฉ

### 4. Mobile App
- ุชุทุจูู ููุจุงูู ุจุงุณุชุฎุฏุงู Capacitor
- ุงูุชูุงุท ุงูุตูุฑ ูุจุงุดุฑุฉ

### 5. Notifications
- ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุชูุจููุงุช SMS

### 6. Multiple Users
- ูุงุญุตูู ูุชุนุฏุฏูู
- ุชุชุจุน ูู ูุงู ุจุงููุญุต

---

## ๐ ุงูุฎูุงุตุฉ

### โ ูุง ุชู ุฅูุฌุงุฒู:
1. โ ุฅุตูุงุญ ุฌููุน ูุณุงุฑุงุช API
2. โ ุฅุตูุงุญ ูุธุงู ุฑูุน ุงูุตูุฑ
3. โ ุชุนุฑูุจ ุงููุงุฌูุงุช
4. โ ุฎุฑูุทุฉ ุชูุงุนููุฉ ูุงููุฉ
5. โ ูุธุงู ุฅุฏุฎุงู ุฃุนุทุงู ุดุงูู
6. โ ุตูุญุฉ ุชูุฑูุฑ ุงุญุชุฑุงููุฉ
7. โ ุชุตุฏูุฑ PDF
8. โ ูุงุนุฏุฉ ุจูุงูุงุช ูุงููุฉ

### ๐ ุงูุญุงูุฉ ุงูููุงุฆูุฉ:
**ุงููุดุฑูุน ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุจูุณุจุฉ 100%!**

- ุฌููุน ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ ุชุนูู โ
- ูุง ุชูุฌุฏ ุฃุฎุทุงุก ุจุฑูุฌูุฉ โ
- API endpoints ุตุญูุญุฉ โ
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ โ
- ุงููุงุฌูุงุช ูุนุฑุจุฉ โ

---

## ๐ ููุฏุนู

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงูู:
1. ุชุฃูุฏ ูู ุชุดุบูู `npm install`
2. ุชุฃูุฏ ูู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช `npm run db:push`
3. ุชุญูู ูู ูุฌูุฏ ูุฌูุฏ `uploads/`
4. ุชุญูู ูู Port 3000 ุบูุฑ ูุณุชุฎุฏู

---

**ุชู ุงูุชูุซูู ุจูุงุณุทุฉ:** GitHub Copilot  
**ุงูุชุงุฑูุฎ:** 3 ููุงูุฑ 2026  
**ุงููุณุฎุฉ:** 1.0.0
